(()=>{class u{constructor(e){this.localStorageKey="ThemeColorScheme";this.bindMatchMedia(),this.currentScheme=this.getSavedScheme(),this.dispatchEvent(document.documentElement.dataset.userColorScheme),e&&this.bindClick(e),document.body.style.transition==""&&document.body.style.setProperty("transition","background-color .3s ease")}saveScheme(){localStorage.setItem(this.localStorageKey,this.currentScheme)}bindClick(e){e.addEventListener("click",t=>{this.isDark()?this.currentScheme="light":this.currentScheme="dark",this.setBodyClass(),this.currentScheme==this.systemPreferScheme&&(this.currentScheme="auto"),this.saveScheme()})}isDark(){return this.currentScheme=="dark"||this.currentScheme=="auto"&&this.systemPreferScheme=="dark"}dispatchEvent(e){const t=new CustomEvent("onColorSchemeChange",{detail:e});window.dispatchEvent(t)}setBodyClass(){this.isDark()?document.documentElement.dataset.userColorScheme="dark":document.documentElement.dataset.userColorScheme="light",this.dispatchEvent(document.documentElement.dataset.userColorScheme)}getSavedScheme(){const e=localStorage.getItem(this.localStorageKey);return e=="light"||e=="dark"||e=="auto"?e:"auto"}bindMatchMedia(){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{e.matches?this.systemPreferScheme="dark":this.systemPreferScheme="light",this.setBodyClass()})}}var s=u;const f=document.querySelectorAll(".article-post div.highlight"),a="Copy",p="Copied!";let m=function(){f.forEach(e=>{const t=document.createElement("button");t.innerHTML=a,t.classList.add("copyCodeButton"),e.appendChild(t);const r=e.querySelector("code[data-lang]");if(!r)return;t.addEventListener("click",()=>{navigator.clipboard.writeText(r.textContent).then(()=>{t.textContent=p,setTimeout(()=>{t.textContent=a},1e3)}).catch(o=>{alert(o),console.log("Something went wrong",o)})})})};const n=e=>{if(!e)return;e.remove?e.remove():e.parentNode.removeChild(e)},c=(e,t)=>{e.after?e.after(t):e.parentNode.insertBefore(t,e.nextSibling)},S=e=>{var t=e.parentNode,r=e.innerHTML,o=document.createElement("div");c(t,o),o.appendChild(e),e.innerHTML="",e.appendChild(t),t.innerHTML=r,c(o,o.firstElementChild),n(o)};let l=function(){document.querySelectorAll('.footnotes > ol > li[id^="fn"], #refs > div[id^="ref-"]').forEach(function(e){let t=document.querySelectorAll('a[href="#'+e.id+'"]');if(t.length===0)return;t.forEach(function(i){i.removeAttribute("href")});let r=t[0],o=document.createElement("div");if(o.className="side side-right",/^fn/.test(e.id)){o.innerHTML=e.innerHTML;var h=r.innerHTML;o.firstElementChild.innerHTML='<span class="bg-number">'+h+"</span> "+o.firstElementChild.innerHTML,n(o.querySelector('a[href^="#fnref"]'));let i=r.parentNode;i.tagName==="SUP"&&S(r)}else o.innerHTML=e.outerHTML,r=r.parentNode;c(r,o),r.classList.add("note-ref"),n(e)}),document.querySelectorAll(".footnotes, #refs").forEach(function(e){var t=e.children;if(e.id==="refs")return t.length===0&&n(e);if(t.length!==2||t[0].tagName!=="HR"||t[1].tagName!=="OL")return;t[1].childElementCount===0&&n(e)})};let d=!1;document.currentScript&&(d=document.currentScript.dataset.enableFootnotes=="true");const v=()=>{new s(document.getElementById("dark-mode-button")),d&&l(),m()};window.addEventListener("load",()=>{setTimeout(function(){v()},0)});})();
